<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <meta charset="utf-8"> 
  <title>QUAD-SPLIT METER  | A L</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/customize.css">
</head>
<body>
   <!-- NAVBAR START -->
<nav class="navbar">
  <div class="navbar-left">
    <a href="index.html" class="navbar-home" title="Home">
      <!-- Casetta in SVG: puoi cambiare la dimensione (width/height) -->
      <svg width="24" height="24" fill="white" viewBox="0 0 24 24" style="vertical-align: middle;">
        <path d="M3 11l9-9 9 9h-2v8a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-4h-2v4a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-8H3z" stroke="white" stroke-width="2" fill="none"/>
      </svg>
    </a>
  </div>
 <div class="navbar-right">
  <a href="about.html">ABOUT</a>
  <a href="contacts.html">CONTACTS</a>
  <div class="dropdown">
  <a href="#" class="dropbtn">PROJECTS</a>
  <div class="dropdown-content">
    <a href="project1.html">OPULENT TILING</a>
    <a href="project2.html">▲ ◼</a>
    <a href="project3.html">MAZE</a>
    <a href="project4.html">▲ ◼ ⏺</a>
    <a href="project5.html">URBAN MYCELIUM</a>
    <a href="project6.html">HYPNO SPIRAL</a>
    <a href="project7.html">SUNFLOWER</a>
    <a href="project8.html">LOCATION OF A CIRCLE</a>
    <a href="project9.html">DYNAMIC QUAD-SPLIT METER</a>
  </div>
</div>

</div>

</nav>
<!-- NAVBAR END -->
  
  <div class="project-glass-wrapper">
    <!-- Blocco 1: COPERTINA -->
    <div class="glass-box">
  <div class="cover-head">
    <h1 class="cover-title">QUAD-SPLIT METER </h1>
    <div class="cover-icons">
      <a href="https://editor.p5js.org/armand.lala0/sketches/XBrKuMehq" target="_blank" title="Vai al progetto JS" class="icon-btn">
        <span class="icon-js">JS*</span>
      </a>
      <a href="doc/project9.pdf" target="_blank" download title="Scarica PDF" class="icon-btn">
        <svg height="20" width="20" viewBox="0 0 20 20" fill="none" stroke="white" stroke-width="2">
          <rect x="4" y="2" width="12" height="16" rx="2" fill="none"/>
          <path d="M8 6h4M8 10h4M8 14h4"/>
        </svg>
      </a>
    </div>
  </div>
  <img src="images/grey.png" alt="Blue Project" class="cover-img">

    </div>
    <!-- Blocco 2: DESCRIZIONE -->
    <div class="glass-box">
      <p>
        This interactive p5.js program dynamically divides the canvas into four rectangles, with each rectangle’s sides meeting at the current mouse position. Each rectangle changes its grayscale shade based on its area, and the real-time area value (in square centimeters) is displayed at the center of each quadrant, with the text size automatically adapting to fit.
At the beginning, the setup() function creates a full-window canvas using createCanvas(windowWidth, windowHeight). It sets rectangles to be drawn from corner to corner with rectMode(CORNERS), centers all text via textAlign(CENTER, CENTER), and hides the default mouse cursor to display a custom indicator later.
Inside the main drawing loop, draw(), the program continuously updates the scene:
It defines the coordinates of the four corners of the canvas (top-left, top-right, bottom-left, bottom-right), and uses constrain() to keep the mouse position within window bounds.

It calculates the base and height of each rectangle, and thus its area (e.g., the top-left quadrant’s area is areaTL = abs(mx) * abs(my)).

Using min() and max(), it determines the smallest and largest areas among the four quadrants, mapping each area to a grayscale value using map(). The smallest area is black, the largest is white, and intermediate values are mapped to various shades of gray.

Each area is converted from pixels squared to square centimeters with the formula area_cm2 = area_px / (37.8 * 37.8), where 37.8 is an approximate number of pixels per centimeter on a standard display.

The rectangles are drawn using the computed grayscale value with fill(), and outlined in thick black (stroke(0) and strokeWeight(6)).

At the center of each rectangle, the program displays the area value (in cm²) using text(). The text color is chosen automatically (white or black) for visibility based on the rectangle’s background, and the text size dynamically adjusts so that it never overflows the quadrant.

Finally, a small yellow circle with a black border is drawn at the current mouse position, acting as a clear and modern custom pointer.

This system allows for real-time visualization of how the canvas is subdivided and how the area of each rectangle changes as you move the mouse, providing both a graphical (color) and numerical (area) feedback for each quadrant
</p>
    </div>
    <!-- Blocco 3: GALLERIA -->
    <div class="glass-box">
      <h3>IMAGE GALLERY</h3>
      <div class="gallery-row">
        <img src="images/project_9/1.png" alt="img1" class="gallery-img">
        <img src="images/project_9/2.png" alt="img2" class="gallery-img">
        <img src="images/project_9/3.png" alt="img3" class="gallery-img">
        <img src="images/project_9/4.png" alt="img4" class="gallery-img">
        <!-- altre immagini se vuoi -->
      </div>
    </div>
  </div>

    <div class="row one-bottom center">
    <p>©ARMAND LALA 2025</p>
  </div>
</div>
  
  <script src="js/p5.js"></script>
  <script src="js/p5.sound.min.js"></script>
  <script src="js/mold.js"></script>
  <script src="js/sketch.js"></script>

  <!-- POPUP OVERLAY -->
<div id="img-popup" style="display:none;position:fixed;z-index:10000;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.77);justify-content:center;align-items:center;">
  <span id="popup-prev" class="popup-arrow" aria-label="Precedente">&lt;</span>
  <img id="img-popup-big" src="" style="max-width:90vw;max-height:85vh;border-radius:14px;box-shadow:0 6px 32px rgba(60,60,80,0.16);border:3px solid #fff;">
  <span id="popup-next" class="popup-arrow" aria-label="Successiva">&gt;</span>
</div>

<script>
const images = Array.from(document.querySelectorAll('.gallery-img'));
let currentIndex = 0;

function showPopup(index) {
  if(index < 0 || index >= images.length) return;
  currentIndex = index;
  document.getElementById('img-popup-big').src = images[currentIndex].src;
  document.getElementById('img-popup').style.display = 'flex';
}

images.forEach((img, idx) => {
  img.style.cursor = "pointer";
  img.onclick = function(e) {
    e.stopPropagation();
    showPopup(idx);
  }
});

function closePopup() {
  document.getElementById('img-popup').style.display = 'none';
}

document.getElementById('img-popup').onclick = closePopup;

document.getElementById('popup-prev').onclick = function(e) {
  e.stopPropagation();
  showPopup((currentIndex - 1 + images.length) % images.length);
};
document.getElementById('popup-next').onclick = function(e) {
  e.stopPropagation();
  showPopup((currentIndex + 1) % images.length);
};

// Tastiera: ← (37), → (39), ESC (27)
document.addEventListener('keydown', function(e) {
  if(document.getElementById('img-popup').style.display === 'flex') {
    if(e.key === 'ArrowLeft') {
      showPopup((currentIndex - 1 + images.length) % images.length);
      e.preventDefault();
    }
    if(e.key === 'ArrowRight') {
      showPopup((currentIndex + 1) % images.length);
      e.preventDefault();
    }
    if(e.key === 'Escape') {
      closePopup();
      e.preventDefault();
    }
  }
});
</script>


</body>
</html>
